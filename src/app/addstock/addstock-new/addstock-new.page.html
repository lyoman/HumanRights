<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-back-button autoHide="false"></ion-back-button>
        </ion-buttons>
        <ion-title class="title" style="margin-right: 50px;" class="ion-text-center">
            Add New Report
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content class="ion-padding animated fadeIn login auth-page">
    <div class="login-content">
        <form class="list-form">
            <!-- <form>
                <ion-item>
                    <ion-label position="floating" style="color: #6d0101;">
                        <ion-icon name="calendar" item-start class="text-warning"></ion-icon>
                        Does the Case involves a Company?
                    </ion-label>
                    <ion-select (change)="ivCompany(form.value)" [(ngModel)]="involves_company" class="myCustomSelect"
                        name="involves_company">
                        <ion-select-option value="true">{{ 'Yes' }}</ion-select-option>
                        <ion-select-option value="false">{{ 'No' }}</ion-select-option>
                    </ion-select>
                </ion-item>
            </form> -->


            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="calendar" item-start class="text-warning"></ion-icon>
                    Date
                </ion-label>
                <ion-input type="date" [(ngModel)]="new_case.date_reported" name="date"></ion-input>
            </ion-item>

            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="person" item-start class="text-warning"></ion-icon>
                    Type of violation
                </ion-label>

                <!-- <ion-select class="myCustomSelect" placeholder="Please select" [(ngModel)]="new_case.type_of_violation"
                    name="type_of_violation">
                    <ion-select-option *ngFor="let item of VIOLATION_TYPE" value="item.name">{{
                        item.name }}</ion-select-option>
                </ion-select> -->


                <ion-select placeholder="Please select" [(ngModel)]="new_case.type_of_violation"
                    name="type_of_violation">
                    <ion-select-option value="Forced Displacement">Forced Displacement </ion-select-option>
                    <ion-select-option value="Exposure to pollutants">Exposure to pollutants</ion-select-option>
                    <ion-select-option value="Loss of land or economic assets">Loss of land or economic assets
                    </ion-select-option>
                    <ion-select-option value="Desecration of cultural heritage including graves">Desecration of cultural
                        heritage including graves</ion-select-option>
                    <ion-select-option value="Torture and intimidation / harrassment">Torture and intimidation /
                        harrassment </ion-select-option>
                    <ion-select-option value="Curtailed freedom of movement">Curtailed freedom of movement
                    </ion-select-option>
                    <ion-select-option value="Exposure to degraded environment">Exposure to degraded environment
                    </ion-select-option>
                    <ion-select-option value="Limited access to water">Limited access to water</ion-select-option>
                    <ion-select-option value="Denied access to social services">Denied access to social services like
                        Health facilities, School, Markets place </ion-select-option>
                    <ion-select-option value="Forced and unpaid labour">Forced and unpaid labour</ion-select-option>
                    <ion-select-option value="Child labour">Child labour </ion-select-option>
                    <ion-select-option value="Murder/killings">Murder/killings</ion-select-option>
                </ion-select>
            </ion-item>

            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="cash" item-start class="text-warning"></ion-icon>
                    Location
                </ion-label>

                <ion-input type="text" [(ngModel)]="new_case.location" name="location"></ion-input>
            </ion-item>

            <hr><br>

            <h2>Details of the Victims</h2>

            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="chatbubbles" item-start class="text-warning"></ion-icon>
                    Description of the Victims
                </ion-label>
                <ion-select placeholder="Please select" [(ngModel)]="new_case.description_of_victims"
                    name="description_of_victims">
                    <ion-select-option value="gurdian">Community member (individual/group)</ion-select-option>
                    <ion-select-option value="Women">Women</ion-select-option>
                    <ion-select-option value="Girls">Girls</ion-select-option>
                    <ion-select-option value="Youth">Youth</ion-select-option>
                    <ion-select-option value="Household">Household</ion-select-option>
                    <ion-select-option value="Mining company ">Mining company </ion-select-option>
                    <ion-select-option value="Traditional leader">Traditional leader</ion-select-option>
                    <ion-select-option value="Farmer">Farmer</ion-select-option>
                    <ion-select-option value="Community activist">Community activist</ion-select-option>
                    <ion-select-option value="School children">School children</ion-select-option>
                </ion-select>

            </ion-item>

            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="briefcase" item-start class="text-warning"></ion-icon>
                    Name(s) of victims or Alias
                </ion-label>
                <ion-input type="text" [(ngModel)]="new_case.names_of_vitims" name="names_of_vitims"></ion-input>
            </ion-item>

            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="briefcase" item-start class="text-warning"></ion-icon>
                    Age of victim
                </ion-label>
                <ion-input type="text" [(ngModel)]="new_case.victim_age" name="victim_age"></ion-input>
            </ion-item>


            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="chatbubbles" item-start class="text-warning"></ion-icon>
                    Gender of victim
                </ion-label>
                <ion-select placeholder="Please select" [(ngModel)]="new_case.victim_gender" name="victim_gender">
                    <ion-select-option value="Male">Male</ion-select-option>
                    <ion-select-option value="Female">Female</ion-select-option>
                    <!-- <ion-select-option value="Male and Female">Male & Female</ion-select-option> -->
                </ion-select>

            </ion-item>

            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="chatbubbles" item-start class="text-warning"></ion-icon>
                    Describe Gender of victims (Optional)
                </ion-label>
                <ion-input type="text" [(ngModel)]="new_case.describe_gender" name="describe_gender"></ion-input>

            </ion-item>

            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="cash" item-start class="text-warning"></ion-icon>
                    Contact details of victim
                </ion-label>

                <ion-input type="text" [(ngModel)]="new_case.victim_phone_number" name="victim_phone_number">
                </ion-input>
            </ion-item>

            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="briefcase" item-start class="text-warning"></ion-icon>
                    Victim Address
                </ion-label>
                <ion-input type="text" [(ngModel)]="new_case.victim_address" name="victim_address"></ion-input>
            </ion-item>

            <hr><br>

            <h2>Details of the Perpetrator</h2>

            <ion-item>
                <!-- <form> -->
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="cash" item-start class="text-warning"></ion-icon>
                    Description of the Perpetrator
                </ion-label>
                <ion-select (ngModelChange)="ivCompany($event)" placeholder="Please select"
                    [(ngModel)]="new_case.description_of_perpetrator" name="description_of_perpetrator">
                    <ion-select-option value="Mining company security guards">Mining company security guards
                    </ion-select-option>
                    <ion-select-option value="Artisanal miners ">Artisanal miners </ion-select-option>
                    <ion-select-option value="Government security agencies">Government security agencies
                        (police, army)</ion-select-option>
                    <ion-select-option value="Politician">Politician</ion-select-option>
                    <ion-select-option value="Councilors">Councilors</ion-select-option>
                    <ion-select-option value="Member of Parliament">Member of Parliament</ion-select-option>
                </ion-select>
                <!-- </form> -->
            </ion-item>

            <ion-list *ngIf="involves_company == 'true'">
                <ion-list-header>
                    <h2>Company Details</h2>
                </ion-list-header>
                <ion-item>
                    <ion-label position="floating" style="color: #6d0101;">
                        <ion-icon name="calendar" item-start class="text-warning"></ion-icon>
                        Comapany Name
                    </ion-label>
                    <ion-input type="text" [(ngModel)]="company.name" name="name"></ion-input>
                </ion-item>

                <ion-item>
                    <ion-label position="floating" style="color: #6d0101;">
                        <ion-icon name="calendar" item-start class="text-warning"></ion-icon>
                        Location
                    </ion-label>
                    <ion-input type="text" [(ngModel)]="company.location" name="location"></ion-input>
                </ion-item>

                <ion-item>
                    <ion-label position="floating" style="color: #6d0101;">
                        <ion-icon name="calendar" item-start class="text-warning"></ion-icon>
                        Owners
                    </ion-label>
                    <ion-input type="text" [(ngModel)]="company.owners" name="owners"></ion-input>
                </ion-item>

                <ion-item>
                    <ion-label position="floating" style="color: #6d0101;">
                        <ion-icon name="calendar" item-start class="text-warning"></ion-icon>
                        Description
                    </ion-label>
                    <ion-input type="text" [(ngModel)]="company.description" name="description"></ion-input>
                </ion-item>

                <ion-item>
                    <ion-label position="floating" style="color: #6d0101;">
                        <ion-icon name="calendar" item-start class="text-warning"></ion-icon>
                        When it started Operating
                    </ion-label>
                    <ion-input type="text" [(ngModel)]="company.when_it_started_operating"
                        name="when_it_started_operating"></ion-input>
                </ion-item>
            </ion-list>

            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="cash" item-start class="text-warning"></ion-icon>
                    Motivations behind the incident (Based on the victimâ€™s personal assessment)
                </ion-label>

                <ion-select placeholder="Please select" [(ngModel)]="new_case.motivations_behind_incident"
                    name="motivations_behind_incident">
                    <ion-select-option value="Political">Political</ion-select-option>
                    <ion-select-option value="To conceal illicit activities and corruption">To conceal illicit
                        activities and corruption</ion-select-option>
                    <ion-select-option value="To exercise Power">To exercise Power</ion-select-option>
                    <ion-select-option value="To instill fear">To instill fear</ion-select-option>
                    <ion-select-option value="Economic interest">Economic interest</ion-select-option>
                </ion-select>
            </ion-item>

            <hr><br>

            <h2>Description of what transpired responding to the following questions</h2>

            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="cash" item-start class="text-warning"></ion-icon>
                    What happened?
                </ion-label>
                <ion-input type="text" [(ngModel)]="new_case.what_happened" name="what_happened"></ion-input>
            </ion-item>

            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="cash" item-start class="text-warning"></ion-icon>
                    How it happened (This part should be accompanied with an option to upload
                    videos, pictures, live streaming, audios.)
                </ion-label>
                <ion-input type="text" [(ngModel)]="new_case.how_it_happened" name="how_it_happened"></ion-input>
            </ion-item>

            <ion-item>
                <ion-label style="color: #6d0101;">
                    <ion-icon name="cash" item-start class="text-warning"></ion-icon>
                    Community Description
                </ion-label>

                <!-- <ion-input type="text" [(ngModel)]="new_case.community_description" name="community_description"></ion-input> -->
                <textarea rows="5" cols="35" [(ngModel)]="new_case.community_description" name="community_description"
                    class="form-control"></textarea>
            </ion-item>
            <hr><br>

            <h2>Contact Details of Reporter (Optional)</h2>

            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="cash" item-start class="text-warning"></ion-icon>
                    Phone Number of Reporter
                </ion-label>

                <ion-input type="number" aria-placeholder="0773XXXXXX" [(ngModel)]="new_case.reporter_phone"
                    name="reporter_phone"></ion-input>
            </ion-item>

            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="cash" item-start class="text-warning"></ion-icon>
                    Email of Reporter
                </ion-label>

                <ion-input type="email" [(ngModel)]="new_case.reporter_email" name="reporter_email"></ion-input>
            </ion-item>

            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="cash" item-start class="text-warning"></ion-icon>
                    Address of Reporter
                </ion-label>

                <ion-input type="text" [(ngModel)]="new_case.reporter_address" name="reporter_address"></ion-input>
            </ion-item>


            <ion-item>
                <ion-label position="floating" style="color: #6d0101;">
                    <ion-icon name="cash" item-start class="text-warning"></ion-icon>
                    Verification and Authentication
                </ion-label>
                <ion-button type="file" (click)="selectImage()" name="invoice">Open Camera</ion-button>
            </ion-item>

            <h3 *ngIf="images.length == 0" class="ion-padding ion-text-center">Please Select Image!</h3>

            <ion-list>
                <ion-item *ngFor="let file of images">
                    <ion-thumbnail slot="start">
                        <ion-img [src]="file.data"></ion-img>
                    </ion-thumbnail>
                    <ion-label style="color: #6d0101;">
                        {{ file.name }}
                    </ion-label>
                    <ion-button slot="end" (click)="startUpload(file)">
                        <ion-icon slot="icon-only" name="cloud-upload"></ion-icon>
                    </ion-button>
                    <ion-button slot="end" (click)="deleteImage(file)">
                        <ion-icon slot="icon-only" name="trash"></ion-icon>
                    </ion-button>
                </ion-item>
            </ion-list>

            <!-- <ion-button (click)="register()" slot="end" fill="clear" class="shary" shape="round" icon-start
                expand="block" color="primary" tappable>
                <ion-icon slot="icon-only" name="log-in"></ion-icon>
                <p style="color: #6d0101; ">Save Report</p>
            </ion-button> -->

            <ion-button (click)="register()">      
                <ion-icon slot="icon-only" name="log-in"></ion-icon> 
                Save Report
            </ion-button>

        </form>
    </div>

    <!-- <div *ngIf="loading" class="text ion-text-center myloader">
        <img height="200" width="auto" src="assets/imgs/tenor.gif">
        <div class="text">
            Loading....
        </div>
    </div> -->
</ion-content>

<ion-footer>
    <ion-toolbar color="primary">
      <ion-button fill="clear" expand="full" color="light" (click)="selectImage()">
        <ion-icon slot="start" name="camera"></ion-icon>
        Select Image
      </ion-button>
    </ion-toolbar>
  </ion-footer>